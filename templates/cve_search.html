{% extends 'base.html' %}

{% set nav = 'cve' %}


{% block body %}

<form>
    <div class="ui fluid input">
        <input type="text" name="search" placeholder="Search CVE..." value="{{g.keyword}}">
    </div>
</form>

<div class="ui divider hidden"></div>

<div>
    <table class="ui very basic compact fixed table" style="vertical-align: top">
        <thead>
            <tr>
                <th class="two wide">CVE ID</th>
                <th class="fourteen wide">Description</th>
            </tr>
        </thead>
    
    
    
        <tbody id="tablebody">
            {% for x in g.table %}
            <tr>
                <td><a target="_blank" href="https://www.cve.org/CVERecord?id={{x.cve_id}}">{{x.cve_id}}</a></td>
                <td><span class="ui grey text">[{{x.date}} @ {{x.assigner}}]</span> {{x.description}}</td>
            </tr>
            {% endfor %}
    
            {% if (g.table | length) == 200 %}
            <tr>
                <td>...</td>
                <td>...</td>
            </tr>
            {% endif %}
        </tbody>
    
        <script>
            new Mark(document.querySelector("#tablebody")).mark('{{g.keyword}}')
        </script>

        <style>
            mark{
                background: rgba(247, 194, 66, 0.2);;
                color: black;
            }
        </style>
    </table>
</div>

{% endblock %}